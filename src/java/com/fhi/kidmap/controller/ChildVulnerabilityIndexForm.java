/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package com.fhi.kidmap.controller;

import javax.servlet.http.HttpServletRequest;

import org.apache.struts.action.ActionErrors;
import org.apache.struts.action.ActionMapping;
import org.apache.struts.action.ActionMessage;

/**
 *
 * @author COMPAQ USER
 */
public class ChildVulnerabilityIndexForm extends org.apache.struts.action.ActionForm {

    private String actionName;
    private String stateCode;
    private String lgaCode;
    private String orgCode;
    private String preEnrollmentNo;
    private String currentPreEnrollmentNo;
    private String dateOfAssessment;
    private String surName;
    private String firstName;
    private String ageUnit;
    private String age;
    private String gender;
    private String address;
    
    private int health;
    private int education;
    private int shelter;
    private int protection;
    private int nutrition;
    private int economicStrengthening;


    
    /**
     *
     */
    public ChildVulnerabilityIndexForm() {
        super();
        // TODO Auto-generated constructor stub
    }

    public String getActionName() {
        return actionName;
    }

    public void setActionName(String actionName) {
        this.actionName = actionName;
    }

    
    public String getAddress() {
        return address;
    }

    public void setAddress(String address) {
        this.address = address;
    }

    public String getAge() {
        return age;
    }

    public void setAge(String age) {
        this.age = age;
    }

    public String getAgeUnit() {
        return ageUnit;
    }

    public void setAgeUnit(String ageUnit) {
        this.ageUnit = ageUnit;
    }

    public String getDateOfAssessment() {
        return dateOfAssessment;
    }

    public void setDateOfAssessment(String dateOfAssessment) {
        this.dateOfAssessment = dateOfAssessment;
    }

    public int getEconomicStrengthening() {
        return economicStrengthening;
    }

    public void setEconomicStrengthening(int economicStrengthening) {
        this.economicStrengthening = economicStrengthening;
    }

    public int getEducation() {
        return education;
    }

    public void setEducation(int education) {
        this.education = education;
    }

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getGender() {
        return gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public int getHealth() {
        return health;
    }

    public void setHealth(int health) {
        this.health = health;
    }

    public String getLgaCode() {
        return lgaCode;
    }

    public void setLgaCode(String lgaCode) {
        this.lgaCode = lgaCode;
    }

    public int getNutrition() {
        return nutrition;
    }

    public void setNutrition(int nutrition) {
        this.nutrition = nutrition;
    }

    public String getOrgCode() {
        return orgCode;
    }

    public void setOrgCode(String orgCode) {
        this.orgCode = orgCode;
    }

    public String getCurrentPreEnrollmentNo() {
        return currentPreEnrollmentNo;
    }

    public void setCurrentPreEnrollmentNo(String currentPreEnrollmentNo) {
        this.currentPreEnrollmentNo = currentPreEnrollmentNo;
    }
    
    public String getPreEnrollmentNo() {
        return preEnrollmentNo;
    }

    public void setPreEnrollmentNo(String preEnrollmentNo) {
        this.preEnrollmentNo = preEnrollmentNo;
    }

    public int getProtection() {
        return protection;
    }

    public void setProtection(int protection) {
        this.protection = protection;
    }

    public int getShelter() {
        return shelter;
    }

    public void setShelter(int shelter) {
        this.shelter = shelter;
    }

    public String getStateCode() {
        return stateCode;
    }

    public void setStateCode(String stateCode) {
        this.stateCode = stateCode;
    }

    public String getSurName() {
        return surName;
    }

    public void setSurName(String surName) {
        this.surName = surName;
    }

     @Override
    public void reset(ActionMapping mapping, HttpServletRequest request)
    {
         actionName=null;
         orgCode=null;
        preEnrollmentNo=null;
        currentPreEnrollmentNo=null;
        dateOfAssessment=null;
        surName=null;
        firstName=null;
        ageUnit=null;
        age=null;
        gender=null;
        address=null;
        health=0;
        education=0;
        shelter=0;
        protection=0;
        nutrition=0;
        economicStrengthening=0;

    }
    /**
     * This is the action called from the Struts framework.
     * @param mapping The ActionMapping used to select this instance.
     * @param request The HTTP Request we are processing.
     * @return
     */
    public ActionErrors validate(ActionMapping mapping, HttpServletRequest request) {
        ActionErrors errors = new ActionErrors();

        if(getActionName()!=null && getActionName().equalsIgnoreCase("cviDetails"))
        {
            if (getOrgCode() == null || getOrgCode().length() < 1 || getOrgCode().equalsIgnoreCase(" "))
            errors.add("orgCode", new ActionMessage("error.cviOrgName.required"));
            else if (getPreEnrollmentNo() != null && getPreEnrollmentNo().trim().length()<=5)
            {
                    try
                    {
                        Integer.parseInt(getPreEnrollmentNo().trim());
                    }
                    catch(NumberFormatException nfe)
                    {
                        errors.add("preEnrollmentNo", new ActionMessage("error.preEnrollmentNo.wrongFormat"));
                        return errors;
                    }
            }
            else if (getPreEnrollmentNo() != null && getPreEnrollmentNo().trim().length()>5)
            errors.add("preEnrollmentNo", new ActionMessage("error.preEnrollmentNo.length"));
            
            return errors;
        }
        else if(getActionName()==null || getActionName().equalsIgnoreCase("delete") || getActionName().equalsIgnoreCase("cviDetails"))
        return errors;
        if (getStateCode() == null || getStateCode().length() < 1)
            errors.add("stateCode", new ActionMessage("error.state_ode.required"));
        else if (getLgaCode() == null || getLgaCode().length() < 1)
            errors.add("lgaCode", new ActionMessage("error.lga_ode.required"));
        else if (getOrgCode() == null || getOrgCode().length() < 1)
            errors.add("orgCode", new ActionMessage("error.cviOrgName.required"));
        else if (getPreEnrollmentNo() == null || getPreEnrollmentNo().length() < 1)
            errors.add("preEnrollmentNo", new ActionMessage("error.preEnrollmentNo.required"));
        else if (getPreEnrollmentNo().trim().length()>5)
            errors.add("preEnrollmentNo", new ActionMessage("error.preEnrollmentNo.length"));
        else if (getDateOfAssessment() == null || getDateOfAssessment().length() < 1)
            errors.add("dateOfAssessment", new ActionMessage("error.dateOfAssessment.required"));
        else if (getSurName() == null || getSurName().length() < 1)
            errors.add("surName", new ActionMessage("error.surName.required"));
        else if (getFirstName() == null || getFirstName().length() < 1)
            errors.add("firstName", new ActionMessage("error.firstName.required"));
        else if (getAgeUnit() == null || getAgeUnit().length() < 1)
            errors.add("ageUnit", new ActionMessage("error.ageUnit.required"));
        else if (getAge() == null || getAge().length() < 1)
            errors.add("age", new ActionMessage("error.age.required"));
        else if ( getAgeUnit().trim().equalsIgnoreCase("month") && Integer.parseInt(getAge()) > 11)
            errors.add("age", new ActionMessage("incorrect.age.format"));
        else if (getGender() == null || getGender().length() < 1)
            errors.add("gender", new ActionMessage("error.gender.required"));
        else if (getSurName().length()>25 || getFirstName().length() > 25)
            errors.add("surName", new ActionMessage("error.name.length"));


          //error.surname.length
            // TODO: add 'error.name.required' key to your resources
       
        return errors;
    }
}
